---
import PreviewList from "../../components/PreviewList.astro";
import Layout from "../../layouts/Layout.astro";

const posts = await Astro.glob("../../content/articles/*.md");
const frontmatterList = posts
  .map((post) => post.frontmatter)
  .filter((fm) => fm.public);
const tags = ["all", "programming", "games"];

// 🎮 Games
// 🖥 Web Design
const categories = [
  {
    name: "👨‍💻 Programming",
    tag: "programming",
  },
  {
    name: "🏗 Projects",
    tag: "projects",
  },
  {
    name: "🎮 Games",
    tag: "games",
  },
  {
    name: "🖥 Web Design",
    tag: "web design",
  },
];
---

<Layout
  title="Blog"
  description="Articles and essays on coding, tech, music, life, and more."
>
  <!-- Title -->
  <h1 class="mb-4 text-center font-heading text-4xl font-bold">Blog</h1>

  <!-- Description -->
  <h2 class="pb-4 text-center font-heading text-lg text-zinc-400">
    Coding, engineering, electronics, music, life, and everything in between.
  </h2>

  <!-- Categories -->
  <!-- <p class="text-heading text-center text-xl text-zinc-200">Categories</p> -->
  <div
    class="mx-auto flex w-[100%] flex-wrap justify-center gap-y-3 gap-x-3 pb-12"
  >
    {
      categories.map((c) => (
        <a
          href={`/blog/tag/${c.tag}`}
          class="text-normal rounded-lg border-2 border-blue-500 px-3 py-1 font-heading font-bold transition-all hover:bg-blue-500 hover:text-zinc-900"
        >
          {c.name}
        </a>
      ))
    }
  </div>

  <!-- Article previews -->
  <PreviewList frontmatterList={frontmatterList} />
</Layout>
